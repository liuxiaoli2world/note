# 给普通用户添加 `sudo` 权限



参考[鸟哥的私房菜--sudo](<http://linux.vbird.org/linux_basic/0410accountmanager.php#sudo>)

除了root之外的其他帐号，若想要使用sudo执行属于root的权限指令，则root需要先使用visudo去修改/etc/sudoers ，让该帐号能够使用全部或部分的root指令功能。为什么要使用visudo呢？这是因为/etc/sudoers是有设定语法的，如果设定错误那会造成无法使用sudo指令的不良后果。因此才会使用visudo去修改，并在结束离开修改画面时，系统会去检验/etc/sudoers的语法就是了。

一般来说，visudo 的设定方式有几种简单的方法喔，底下我们以几个简单的例子来分别说明：



- I. 单一使用者可进行root 所有指令，与sudoers 档案语法：

假如我们要让vbird1 这个帐号可以使用root 的任何指令，基本上有两种作法，第一种是直接透过修改/etc/sudoers ，方法如下：

```bash
`[root@study ~]# visudo  ....(前面省略)....  root ALL=(ALL) ALL   <==找到这一行，大约在98行左右 vbird1 ALL=(ALL) ALL   <==这一行是你要新增的！ ....(底下省略).... `
```

有趣吧！其实visudo 只是利用vi 将/etc/sudoers 档案呼叫出来进行修改而已，所以这个档案就是/etc/sudoers 啦！这个档案的设定其实很简单，如上面所示，如果你找到98 行(有root 设定的那行) 左右，看到的资料就是：

```ini
`使用者帐号登入者的来源主机名称=(可切换的身份) 可下达的指令 root ALL=(ALL) ALL    <==这是预设值 `
```

上面这一行的四个元件意义是：

1. 『使用者帐号』：系统的哪个帐号可以使用sudo 这个指令的意思；
2. 『登入者的来源主机名称』：当这个帐号由哪部主机连线到本Linux 主机，意思是这个帐号可能是由哪一部网路主机连线过来的， 这个设定值可以指定用户端电脑(信任的来源的意思)。预设值root 可来自任何一部网路主机
3. 『(可切换的身份)』：这个帐号可以切换成什么身份来下达后续的指令，预设root 可以切换成任何人；
4. 『可下达的指令』：可用该身份下达什么指令？这个指令请务必使用绝对路径撰写。预设root可以切换任何身份且进行任何指令之意。

那个ALL 是特殊的关键字，代表任何身份、主机或指令的意思。所以，我想让vbird1 可以进行任何身份的任何指令， 就如同上表特殊字体写的那样，其实就是复制上述预设值那一行，再将root 改成vbird1 即可啊！此时『vbird1 不论来自哪部主机登入，他可以变换身份成为任何人，且可以进行系统上面的任何指令』之意。修改完请储存后离开vi，并以vbird1 登入系统后，进行如下的测试看看：